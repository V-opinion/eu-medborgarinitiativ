"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5155],{60744:function(t,e,i){var n=i(67294),r=i(36808),o=i.n(r),a=i(62830),d=i.n(a),s=i(89613),c=i(41827),l=i(66230);e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.postCUID,i=t.publication,r=(0,n.useRef)(!1),a=(0,l.Z)(),u=a.data,p=a.isValidating;return(0,n.useEffect)((function(){if(!p&&!r.current){r.current=!0;var t=u,n=t&&t._id,a=n?null===t||void 0===t?void 0:t.username:null;if(!a){var l=o().get("hn-cookie-username");l||(l=d()(),o().set("hn-cookie-username",l,{expires:365})),a=l}(0,s.e)().logPageView();var h={event_type:"pageview",time:(new Date).getTime(),event_properties:{hostname:window.location.hostname,url:window.location.pathname,eventType:"pageview",isLoggedIn:n?1:0,publicationId:null===i||void 0===i?void 0:i._id,postCUID:e,dateAdded:(new Date).getTime(),referrer:window.document.referrer,source:(0,c.ak)("source")||""}};n&&(h.user_id=null===t||void 0===t?void 0:t._id,h.user_properties={username:null===t||void 0===t?void 0:t.username,email:null===t||void 0===t?void 0:t.email,photo:(null===t||void 0===t?void 0:t.photo)||"",dateJoined:(null===t||void 0===t?void 0:t.dateJoined)||""}),(0,s.e)().sendEventToAmplitude(h),-1===window.location.hostname.indexOf("localhost")&&window.fbq&&window.fbq("trackCustom","PageView".concat(t?"LoggedIn":"LoggedOut"))}}),[u,p]),null}},28765:function(t,e,i){var n=i(80954),r=i.n(n),o=i(67294);e.Z=function(){var t=(0,o.useState)({width:0,height:0}),e=t[0],i=t[1];return(0,o.useEffect)((function(){var t=r()((function(){i({width:window.innerWidth,height:window.innerHeight})}),250);return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),e}},48418:function(t,e,i){i.d(e,{Z:function(){return v}});var n=i(67294),r=i(5152),o=i.n(r),a=i(58044),d=i(28765),s=function(){var t=(0,n.useRef)(null),e=(0,n.useRef)(null);return{xlScreenRef:t,mobileRef:e,displayRef:(0,d.Z)().width>=1280?t:e}},c=function(t){var e=t.elRef,i=(0,n.useState)(0),r=i[0],o=i[1],a=(0,n.useState)("relative"),d=a[0],s=a[1];return(0,n.useEffect)((function(){var t=e.current;if(!(document.documentElement.clientWidth<1280)&&t){var i=function(){var e=null===t||void 0===t?void 0:t.clientHeight,i=window.scrollY,n=document.documentElement.clientHeight;e&&(i+n>=e?(s("sticky"),o(n-e)):(s("relative"),o(0)))};return window.addEventListener("scroll",i,{passive:!0}),function(){window.removeEventListener("scroll",i)}}}),[e]),{top:r,position:d}},l=i(84662),u=i(84809),p=i(35944);var h=o()((function(){return Promise.all([i.e(6521),i.e(9582),i.e(193),i.e(1345),i.e(7203),i.e(3536)]).then(i.bind(i,3536))}),{ssr:!1,loadableGenerated:{webpack:function(){return[3536]}}}),m=(0,u.Z)(h),f={name:"pyp422",styles:"min-height:100vh;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(24 24 27 / var(--tw-text-opacity));.dark &{--tw-bg-opacity:1;background-color:rgb(9 9 11 / var(--tw-bg-opacity));}"},w={name:"1qmc9c7",styles:"width:100%;@media (min-width: 640px){max-width:640px;}@media (min-width: 768px){max-width:768px;}@media (min-width: 1024px){max-width:1024px;padding-left:0px;padding-right:0px;}@media (min-width: 1280px){max-width:1280px;display:grid;min-width:0px;grid-template-columns:repeat(12, minmax(0, 1fr));padding-left:5rem;padding-right:5rem;}@media (min-width: 1536px){max-width:1536px;display:grid;min-width:0px;grid-template-columns:repeat(12, minmax(0, 1fr));padding-left:13rem;padding-right:13rem;}position:relative;z-index:40;margin-left:auto;margin-right:auto;display:flex;min-height:100vh;min-width:100%;justify-content:center;gap:2.5rem;padding-left:1.5rem;padding-right:1.5rem"},g={name:"hn5hw7",styles:"display:none;height:fit-content;@media (min-width: 1280px){display:block;width:340px;}"},v=function(t){var e=t.Header,i=t.RightSidebar,n=void 0===i?m:i,r=t.MobileRightSidebar,o=void 0===r?h:r,d=t.MobileNavMenu,u=void 0===d?a.Z:d,v=t.isLoggedIn,b=t.children,y=!!n,x=!!u,k=s(),Z=k.xlScreenRef,R=k.mobileRef,L=k.displayRef,S=c({elRef:Z}),C=S.top,_=S.position,z=y?o:null,E=e||(0,p.tZ)(l.h,{isLoggedIn:v});return(0,p.BX)("div",{css:f,children:[E,(0,p.BX)("main",{css:w,children:[b,y&&(0,p.BX)(p.HY,{children:[(0,p.tZ)("aside",{style:{top:C,position:"sticky"===_?"sticky":"relative"},css:g,ref:Z}),(0,p.tZ)(n,{ref:L})]})]}),y&&(0,p.tZ)("aside",{ref:R}),x&&(0,p.tZ)(u,{RightSidebar:z})]})}},84809:function(t,e,i){i.d(e,{Z:function(){return v}});var n=i(67294),r=i(28765),o=i(92777),a=i(82262),d=i(81531),s=i(63553),c=i(37247),l=i(35944);function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,c.Z)(t);if(e){var r=(0,c.Z)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,s.Z)(this,i)}}var p=function(t){(0,d.Z)(i,t);var e=u(i);function i(){return(0,o.Z)(this,i),e.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){return(0,l.tZ)("svg",{className:this.props.className,css:this.props.css||"",viewBox:"0 0 512 512",children:(0,l.tZ)("path",{d:"M239.5 5.018c10.6-3.912 22.4-3.912 33 0l208 76.262c18.9 6.94 31.5 24.92 31.5 45.12v259.3c0 20.1-12.6 38.1-31.5 45l-208 75.4c-10.6 4.8-22.4 4.8-33 0L31.48 430.7C12.57 423.8 0 405.8 0 385.7V126.4c0-20.2 12.57-38.18 31.48-45.12L239.5 5.018zm22 30.042c-4.4-1.3-7.5-1.3-11 0L44.14 110.7 256 193.1l211.9-82.4-206.4-75.64zM42.49 400.7 240 473.1V222L32 140.3v245.4c0 6.7 4.19 12.7 10.49 15zM272 473.1l197.5-72.4c6.3-2.3 10.5-8.3 10.5-15V140.3L272 222v251.1z"})})}}]),i}(n.Component),h=i(38611),m=i(73935);var f={name:"x22a9e",styles:"height:1.25rem;width:1.25rem;fill:currentColor"},w={name:"z0ejwh",styles:"position:absolute;top:1.5rem;left:0.75rem;display:none;border-radius:9999px;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;--tw-text-opacity:1;color:rgb(63 63 70 / var(--tw-text-opacity));:hover{--tw-bg-opacity:1;background-color:rgb(228 228 231 / var(--tw-bg-opacity));}.dark &{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));}.dark &:hover{--tw-bg-opacity:1;background-color:rgb(63 63 70 / var(--tw-bg-opacity));}@media (min-width: 768px){display:inline-block;}@media (min-width: 1280px){display:none;}"},g={name:"x22a9e",styles:"height:1.25rem;width:1.25rem;fill:currentColor"},v=function(t){return(0,n.forwardRef)((function(e,i){var o=(0,n.useState)(!1),a=o[0],d=o[1],s=(0,r.Z)().width,c=s<768||s>=1280;return(0,n.useEffect)((function(){var t=document.body;t&&(t.style.overflow=a?"hidden":"auto")}),[a]),(0,n.useEffect)((function(){c&&a&&d(!1)}),[s]),i.current?(0,m.createPortal)((0,l.BX)(l.HY,{children:[(0,l.tZ)("section",{"aria-hidden":a,onClick:function(){return d(!1)},css:a&&{position:"fixed",top:"0px",left:"0px",zIndex:"50",height:"100vh",width:"100vw","--tw-bg-opacity":"0.5",backgroundColor:"rgb(9 9 11 / var(--tw-bg-opacity))",".dark &":{"--tw-bg-opacity":"0.5",backgroundColor:"rgb(82 82 91 / var(--tw-bg-opacity))"}}}),(0,l.tZ)("button",{type:"button","aria-label":"Open right sidebar",onClick:function(){return d((function(t){return!t}))},style:{boxShadow:"0 10px 10px 0 rgba(0, 0, 0, 0.04), 0 20px 25px 0 rgba(0, 0, 0, 0.1)"},css:["position:fixed;bottom:5rem;right:1rem;z-index:40;display:none;border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity));padding:0.75rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));@media (min-width: 768px){display:inline-block;}@media (min-width: 1280px){display:none;}",a&&{display:"none"},"",""],children:(0,l.tZ)(p,{css:f})}),(0,l.BX)("div",{css:[c&&{display:"none","@media (min-width: 1280px)":{display:"block"}},!c&&{position:"fixed",top:"0px",right:"0px",zIndex:"50",display:"none",height:"100%",width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"5rem",paddingBottom:"5rem",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgb(9 9 11 / var(--tw-bg-opacity))"},"@media (min-width: 640px)":{width:"fit-content"},"@media (min-width: 768px)":{display:"block"},"@media (min-width: 1280px)":{display:"none"}},!c&&(a?{visibility:"visible","--tw-translate-x":"0px",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",overflow:"auto",opacity:"1"}:{visibility:"hidden","--tw-translate-x":"100%",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",opacity:"0"}),"",""],children:[(0,l.tZ)("button",{type:"button",onClick:function(){return d(!1)},css:w,children:(0,l.tZ)(h.Z,{css:g})}),(0,l.tZ)(t,{})]})]}),i.current):null}))}},58044:function(t,e,i){i(67294);var n=i(11163),r=i(66230),o=i(72544),a=i(5152),d=i.n(a),s=i(41507),c=i(35944);var l=d()((function(){return Promise.resolve().then(i.bind(i,65309))}),{ssr:!1,loadableGenerated:{webpack:function(){return[65309]}}}),u={name:"bjn8wh",styles:"position:relative"};e.Z=function(t){var e=t.RightSidebar,i=(0,n.useRouter)(),a=(0,r.Z)(),d=a.data,p=a.isValidating,h=(0,o.Z)(!!d).data,m="/"===i.asPath||i.pathname.startsWith("/feed")||"/"===i.pathname,f=i.pathname.startsWith("/n"),w=i.pathname.startsWith("/discussions"),g="/bookmarks"===i.pathname,v=i.pathname.startsWith("/search"),b="/notifications"===i.pathname,y=d||p?(null===h||void 0===h?void 0:h.unreadNotifications)>0&&!p?null===h||void 0===h?void 0:h.unreadNotifications:null:1,x=m?"feed":g?"bookmarks":v?"search":null,k=!p&&d?(0,c.tZ)(s.uXi,{active:b,notifications:y,asChild:!0,children:(0,c.tZ)("a",{css:u,"aria-label":"Notifications",href:"/notifications",children:(0,c.tZ)(s.p0V,{size:"lg",solid:!!b})})}):(0,c.tZ)(s.uXi,{type:"button",notifications:y,children:(0,c.tZ)(s.p0V,{size:"lg",solid:!!b})}),Z=p||d?null:(0,c.tZ)(l,{});return(0,c.tZ)(c.HY,{children:(0,c.tZ)(s.jcR,{activeLink:x,myFeedLink:d?"/?source=my_feed_open":"/community?source=my_feed_open",notificationsPopoverContent:Z,notificationsTrigger:k,RightSidebar:e,showRightSidebarTrigger:m||f||w})})}},84662:function(t,e,i){i.d(e,{h:function(){return a}});var n=i(47342),r=i(74963),o=i(35944),a=function(t){var e=t.sticky,i=void 0===e||e,a=t.isLoggedIn,d=t.disableSliding,s=void 0!==d&&d,c=t.hideLeftSidebar,l=t.hideLinks,u=t.startSlot,p=t.showFeedTooltip,h=void 0!==p&&p;return(0,o.tZ)(n.X$,{children:(0,o.tZ)(r._,{sticky:i,isLoggedIn:a,disableSliding:s,hideLeftSidebar:c,hideLinks:l,startSlot:u,showFeedTooltip:h})})}}}]);